% ---------- main.tex ----------
%
% Main entry point for the resume document.
% Defines document class, loads packages, configures formatting, and assembles sections.
%
% Build: pdflatex main.tex (or lualatex/xelatex for Unicode fonts)
%

% ---- document class ----
\documentclass[11pt]{article}       % set main text size

% ---- engine detection ----
\usepackage{iftex}                  % detect LaTeX engine for conditional loading

% ---- fonts and encoding ----
% XCharter: professional serif font, good for print resumes
% Note: Available by default in Overleaf. For local compilation, install via TeX Live.
\ifPDFTeX
  \usepackage[T1]{fontenc}          % font encoding for pdfLaTeX
  \usepackage[utf8]{inputenc}       % input encoding for pdfLaTeX
  \usepackage{XCharter}             % set font for pdfLaTeX
\else
  \usepackage{fontspec}             % font selection for LuaLaTeX/XeLaTeX
  \setmainfont{XCharter}            % set font for LuaLaTeX/XeLaTeX
\fi

% ---- core packages for document structure ----
\usepackage{import}                 % enable import package for modular file structure
\usepackage{xparse}                 % enable xparse for advanced command definitions

% ---- typography and formatting ----
\usepackage{microtype}              % enable micro-typographic enhancements
\usepackage{enumitem}               % enable lists for bullet points: itemize and \item
\usepackage{titlesec}               % enable section title customization

% ---- hyperlinks ----
\usepackage[hidelinks]{hyperref}    % format hyperlinks without visible borders
\usepackage{bookmark}               % improved PDF bookmarks (load after hyperref)

% ---- PDF accessibility (pdfLaTeX only) ----
% Ensure PDF output is Unicode-compliant and machine-readable (ATS-friendly)
\ifPDFTeX
  \input{glyphtounicode}
  \pdfgentounicode=1
\fi

% ---- load commands ----
% Import constants.tex, layout.tex, helpers.tex, and functions.tex
\import{./}{commands.tex}

% ---- PDF metadata (ATS-friendly and accessibility) ----
% Set document metadata for search engines, ATS systems, and accessibility
\hypersetup{
  pdftitle={Resume - \name},
  pdfauthor={\name},
  pdfsubject={Professional Resume},
  pdfkeywords={\keywords},
  pdfcreator={LaTeX with hyperref},
  pdfproducer={pdfTeX}
}

% ==========================================================================
%                              DOCUMENT BODY
% ==========================================================================
\begin{document}

% ---- contact header ----
\import{sections/}{contact.tex}

% ---- summary ----
\import{sections/}{summary.tex}

% ---- skills ----
\import{sections/}{skills.tex}

% ---- experience ----
\import{sections/}{experience.tex}

% ---- projects (optional) ----
% Uncomment to include projects section
% \import{sections/}{projects.tex}

% ---- education ----
\import{sections/}{education.tex}

\end{document}
